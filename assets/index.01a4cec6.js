import{r as m,o as i,c as l,a as d,w as g,b as c,d as v,e as y,f as _,t as f,n as W,T as Q,g as H,h as P,i as k,v as S,j as F,F as V,k as N,C as X,p as Z,l as tt,m as et,L as nt,q as ot,P as st,s as rt,u as at,x as O,y as ct,z as it,A as lt,B as ut,D as dt,E as mt,G as ht}from"./vendor.f4b30c11.js";const pt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};pt();var h=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n};const ft={},_t={class:"app-header full flex space-between"},gt=v(" Mister Bitcoin "),vt=v("Home"),yt=v("Contact"),wt=v("Statistic");function $t(t,e,n,r,o,s){const a=m("RouterLink");return i(),l("section",_t,[d(a,{to:"/",class:"logo clean-link"},{default:g(()=>[gt]),_:1}),c("nav",null,[d(a,{to:"/",class:"clean-link"},{default:g(()=>[vt]),_:1}),d(a,{to:"/contact",class:"clean-link"},{default:g(()=>[yt]),_:1}),d(a,{to:"/statistic",class:"clean-link"},{default:g(()=>[wt]),_:1})])])}var Ct=h(ft,[["render",$t]]);function kt(t,e){const n=({detail:r})=>{e(r)};return window.addEventListener(t,n),()=>{window.removeEventListener(t,n)}}function St(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}const R={on:kt,emit:St};window.myBus=R;const bt={data(){return{msg:{txt:""},showBtn:!1,removeEventListener:null}},created(){this.removeEventListener=R.on("show-msg",this.showMsg)},methods:{showMsg(t){this.msg=t,setTimeout(()=>{this.msg.txt=""},3e3)},closeMsg(){clearTimeout(this.timeout),this.msg.txt=""}},destroyed(){this.removeEventListener()}};function Lt(t,e,n,r,o,s){return i(),y(Q,{name:"list"},{default:g(()=>[o.msg.txt?(i(),l("section",{key:0,class:W(["user-msg",o.msg.type]),onMouseover:e[1]||(e[1]=a=>o.showBtn=!0),onMouseleave:e[2]||(e[2]=a=>o.showBtn=!1)},[o.showBtn?(i(),l("button",{key:0,onClick:e[0]||(e[0]=(...a)=>s.closeMsg&&s.closeMsg(...a))},"x")):_("",!0),c("p",null,f(o.msg.txt),1)],34)):_("",!0)]),_:1})}var xt=h(bt,[["render",Lt]]);const Tt={components:{AppHeader:Ct,UserMsg:xt},async created(){await this.$store.dispatch({type:"loadContacts"}),await this.$store.dispatch({type:"loadUser"})}},Et={class:"app main-container"};function Ut(t,e,n,r,o,s){const a=m("AppHeader"),u=m("RouterView"),p=m("UserMsg");return i(),l("div",Et,[d(a),d(u),d(p)])}var Mt=h(Tt,[["render",Ut]]);const z="bitcoinDb";var b={getRate:Rt,getMarketPrice:Bt,getConfirmedTransaction:Dt,getAvgBlockSize:Pt};async function Rt(t){try{const e=await H.get(`https://blockchain.info/tobtc?currency=USD&value=${t}`);return Promise.resolve(e.data)}catch(e){throw console.log(e),e}}const C={tradeVolume:null,avgBlockSize:null,marketPrice:null};function Bt(){return I("marketPrice","https://api.blockchain.info/charts/market-price?timespan=6months&format=json&cors=true")}function Dt(){return I("tradeVolume","https://api.blockchain.info/charts/trade-volume?timespan=6months&format=json&cors=true")}function Pt(){return I("avgBlockSize","https://api.blockchain.info/charts/avg-block-size?timespan=6months&format=json&cors=true")}async function I(t,e){if(C[t])return C[t];let n=JSON.parse(localStorage.getItem(z));if(n==null?void 0:n[t])C[t]=n[t];else{const r=await H.get(e);C[t]=r.data.values,localStorage.setItem(z,JSON.stringify(C))}return C[t]}const A="loggedinUser";var M={getEmptyUser:Vt,getLoggedinUser:q,signup:It,logout:At,addMove:Ft};function Vt(){return{name:"",coins:100,moves:[]}}function q(){const t=sessionStorage.getItem(A);return t?JSON.parse(t):null}function It(t){return G(t),Promise.resolve(t)}function At(){return sessionStorage.setItem(A,null),Promise.resolve()}function G(t){sessionStorage.setItem(A,JSON.stringify(t))}async function Ft(t,e){const n=q();if(n.coins-e<0)return Promise.reject("You dont have enough money to make the transfer");if(e<=0)return Promise.reject("The transfer amount can not be negative");const r=Ot(t,e);return n.moves.unshift(r),n.coins-=e,G(n),Promise.resolve(n)}function Ot(t,e){return{toId:t._id,to:t.name,at:Date.now(),amount:e}}const zt={mounted(t){t.focus()}},jt={mounted(t,e){t.addEventListener("input",()=>j(t))},unmounted(t,e){t.removeEventListener("input",()=>j(t))}};function j(t){t.style.backgroundColor=Ht()}function Ht(){for(var t="0123456789ABCDEF",e="#",n=0;n<6;n++)e+=t[Math.floor(Math.random()*16)];return e}const Nt={data(){return{loggedinUser:null}},async created(){this.loggedinUser=M.getEmptyUser()},methods:{async save(){await this.$store.dispatch({type:"saveUser",user:this.loggedinUser}),this.$router.push("/")}},directives:{autofocus:zt,colorful:jt}},qt={class:"signup-view"},Gt=c("label",null,"Please enter your name:",-1),Yt=c("button",null,"Sign up",-1);function Jt(t,e,n,r,o,s){const a=F("colorful"),u=F("autofocus");return i(),l("section",qt,[o.loggedinUser?(i(),l("form",{key:0,onSubmit:e[1]||(e[1]=P((...p)=>s.save&&s.save(...p),["prevent"])),class:"flex column align-center"},[Gt,k(c("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>o.loggedinUser.name=p),type:"text"},null,512),[[a],[u],[S,o.loggedinUser.name]]),Yt],32)):_("",!0)])}var Y=h(Nt,[["render",Jt]]);const Kt={props:{move:Object,fromHomeView:Boolean},computed:{displayTime(){return new Date(this.move.at).toDateString(),new Date(this.move.at).toLocaleString()}}},Wt={class:"move-preview"},Qt={key:0};function Xt(t,e,n,r,o,s){return i(),l("section",Wt,[n.fromHomeView?(i(),l("p",Qt,"To: "+f(n.move.to),1)):_("",!0),c("p",null,"At: "+f(s.displayTime),1),c("p",null,"Amount: "+f(n.move.amount)+" coins",1)])}var Zt=h(Kt,[["render",Xt]]);const te={props:{title:String,moves:Array,fromHomeView:Boolean},components:{MovePreview:Zt}},ee={class:"move-list"},ne={class:"move-preview-container flex column"};function oe(t,e,n,r,o,s){const a=m("MovePreview");return i(),l("section",ee,[c("h3",null,f(n.title),1),c("template",ne,[(i(!0),l(V,null,N(n.moves,(u,p)=>(i(),l("div",{key:p},[d(a,{move:u,fromHomeView:n.fromHomeView},null,8,["move","fromHomeView"])]))),128))])])}var J=h(te,[["render",oe]]);X.register(Z,tt,et,nt,ot,st,rt);const se=at({name:"LineChart",components:{Line:O},props:{chartId:{type:String,default:"line-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]},chartData:{type:Object,required:!0},chartTitle:{type:String},lineColor:{type:String}},setup(t){const e=[],n=[];t.chartData.forEach(s=>{const a=new Date(s.x*1e3);e.push(a.toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"numeric"})),n.push(s.y)});const r={labels:e,datasets:[{label:"Price",borderColor:t.lineColor,pointRadius:0,data:n}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:t.chartTitle||"",font:{size:20},color:"whitesmoke"},x:{ticks:{color:"whitesmoke"}}},scales:{y:{ticks:{color:"whitesmoke"},grid:{color:"grey",borderDash:[4,8]}},x:{ticks:{color:"whitesmoke"},grid:{color:"grey",borderDash:[4,8]}}}};return()=>ct(O,{chartData:r,chartOptions:o,chartId:t.chartId,width:t.width,height:t.height,cssClasses:t.cssClasses,styles:t.styles,plugins:t.plugins})}});function re(t,e,n,r,o,s){const a=m("LineChartGenerator");return i(),y(a,{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"])}var K=h(se,[["render",re]]);const ae={data(){return{bitcoinRate:null,currCmp:"SignupView",marketPrices:null}},computed:{user(){return this.$store.getters.user},getUsd(){return(this.$store.getters.user.coins/this.bitcoinRate).toLocaleString("en-US")},bitcoinRate(){return this.$store.getters.user.coins.toFixed(3)},getTitle(){const t=this.user.moves.length;return`Your last ${t>3?"3":t} moves:`},getBtcUsd(){return Math.floor(1/this.bitcoinRate).toLocaleString("en-US")}},async created(){this.user?this.bitcoinRate=await b.getRate(this.user.coins):this.$router.push("/signup"),this.marketPrices=await b.getMarketPrice()},async beforeUpdate(){!this.bitcoinRate&&this.user&&(this.bitcoinRate=await b.getRate(this.user.coins))},components:{SignupView:Y,MoveList:J,Chart:K}},ce={key:0,class:"home"},ie={class:"home-container flex column align-center"},le=v(" Welcome to Mister Bitcoin "),ue=v(" You have "),de=v(" USD:"),me={class:"usd-live"},he=c("h4",null,[v("Current BTC USD "),c("span",{class:"live-label"},"live")],-1),pe={class:"btc-to-usd-balance"},fe={class:"chart-home-page"};function _e(t,e,n,r,o,s){const a=m("Chart"),u=m("MoveList");return s.user&&s.bitcoinRate?(i(),l("section",ce,[c("div",ie,[c("h2",null,[le,c("span",null,f(s.user.name),1)]),c("p",null,[ue,c("span",null," \u20BF "+f(s.bitcoinRate),1)]),c("p",null,[de,c("span",null," $"+f(s.getUsd),1)]),c("div",me,[he,c("p",pe,"$"+f(s.getBtcUsd),1)])]),c("div",fe,[o.marketPrices?(i(),y(a,{key:0,chartData:o.marketPrices,chartTitle:"Bitcoin market price",lineColor:"orange"},null,8,["chartData"])):_("",!0)]),s.user.moves.length?(i(),y(u,{key:0,title:s.getTitle,moves:s.user.moves,fromHomeView:!0},null,8,["title","moves"])):_("",!0)])):_("",!0)}var ge=h(ae,[["render",_e]]);const ve={props:{contact:Object}},ye={class:"contact-preview flex justify-center"},we={class:"contact-img"},$e=["src"],Ce={class:"contact-info flex column justify-center"};function ke(t,e,n,r,o,s){return i(),l("section",ye,[c("div",we,[c("img",{src:n.contact.imgUrl},null,8,$e)]),c("div",Ce,[c("p",null,f(n.contact.name),1),c("p",null,f(n.contact.phone),1)])])}var Se=h(ve,[["render",ke]]);const be={props:{contacts:Array},components:{ContactPreview:Se},methods:{remove(t){this.$emit("remove",t)}}},Le={class:"contact-list"},xe=["onClick"];function Te(t,e,n,r,o,s){const a=m("ContactPreview"),u=m("RouterLink");return i(),l("section",Le,[d(it,{name:"list"},{default:g(()=>[(i(!0),l(V,null,N(n.contacts,p=>(i(),l("div",{key:p._id,class:"contact-preview-container flex justify-center align-center"},[d(u,{to:`/contact/${p._id}`,class:"clean-link"},{default:g(()=>[d(a,{contact:p},null,8,["contact"])]),_:2},1032,["to"]),c("button",{class:"remove-btn",onClick:In=>s.remove(p._id)},"Remove",8,xe)]))),128))]),_:1})])}var Ee=h(be,[["render",Te]]);const Ue={data(){return{filterBy:{name:""}}},methods:{setFilter(){this.$emit("set-filter",this.filterBy)}}},Me={class:"contact-filter flex justify-center main-container full"};function Re(t,e,n,r,o,s){return i(),l("section",Me,[k(c("input",{type:"text",placeholder:"Search contact by name...","onUpdate:modelValue":e[0]||(e[0]=a=>o.filterBy.name=a),onInput:e[1]||(e[1]=(...a)=>s.setFilter&&s.setFilter(...a))},null,544),[[S,o.filterBy.name]])])}var Be=h(Ue,[["render",Re]]);const De={components:{ContactFilter:Be,ContactList:Ee},data(){return{filterBy:null}},methods:{setFilter(t){this.filterBy=t},async removeContact(t){try{await this.$store.dispatch({type:"removeContact",id:t}),R.emit("show-msg",{type:"success",txt:"\u2714\uFE0F Removed successfully"})}catch(e){console.log("err",e),R.emit("show-msg",{type:"error",txt:"Error. Please try again later"})}}},computed:{contacts(){return this.$store.getters.contacts},contactsToShow(){if(!this.filterBy)return this.contacts;const t=new RegExp(this.filterBy.name,"i");return this.contacts.filter(e=>t.test(e.name))}}},Pe={class:"contact-app main-container full"},Ve={class:"full"},Ie=c("div",{class:"plus flex justify-center align-center"},"+",-1);function Ae(t,e,n,r,o,s){const a=m("ContactFilter"),u=m("RouterLink"),p=m("ContactList");return i(),l("section",Pe,[c("div",Ve,[d(a,{onSetFilter:s.setFilter},null,8,["onSetFilter"]),d(u,{to:"/contact/edit",class:"clean-link"},{default:g(()=>[Ie]),_:1}),d(p,{contacts:s.contactsToShow,onRemove:s.removeContact},null,8,["contacts","onRemove"])])])}var Fe=h(De,[["render",Ae]]);const w={storeToStorage:Oe,loadFromStorage:ze,getRandomInt:D,getRandomId:je,getAvgValues:He};function Oe(t,e){localStorage.setItem(t,JSON.stringify(e)||null)}function ze(t){let e=localStorage.getItem(t);return e?JSON.parse(e):void 0}function je(){var t=Date.now().toString(16),e=D(1e3,9999).toString(16),n=D(1e3,9999).toString(16);return`${n}-${t}-${e}`.toUpperCase()}function D(t,e){var n=t>=e?t+1:e+1,r=t<=e?t:e;return Math.floor(Math.random()*(n-r))+r}function He(t){t.splice(150,1);let e=t.length/5,n=[],r=0;for(let s=0;s<5;s++){var o=0;for(let a=r;a<e+r;a++)o+=t[a].y;o=o/e,n.push(o),r+=30}return n}const x={query:U,get:Ne,delete:qe,post:Ge,put:Ye,insert:Je},T="_id";function U(t){var e=w.loadFromStorage(t);return e||(e=[]),Promise.resolve(e)}async function Ne(t,e){var n=await U(t);return n.find(r=>r[T]===e)}async function qe(t,e){var n=await U(t),r=n.findIndex(o=>o[T]===e);if(r===-1)throw new Error("something went wrong");return n.splice(r,1),w.storeToStorage(t,n),Promise.resolve()}async function Ge(t,e){var n=await U(t);return e[T]=w.getRandomId(),n.push(e),w.storeToStorage(t,n),Promise.resolve(e)}async function Ye(t,e){var n=await U(t);let r=n.findIndex(o=>o[T]===e[T]);if(r===-1)throw new Error("something went wrong");return n[r]=e,w.storeToStorage(t,n),Promise.resolve(e)}async function Je(t,e){var n=await U(t);return e.forEach(r=>r[T]=w.getRandomId()),n.push(...e),w.storeToStorage(t,n),Promise.resolve()}const E="contacts";var L={query:Ke,get:We,remove:Qe,save:Xe,getEmptyContact:Ze};async function Ke(){let t=await x.query(E);return(!t||!t.length)&&(t=tn(),await x.insert(E,t)),t}async function We(t){const e=await x.get(E,t);if(!e)throw new Error("Unknown Contact");return e}function Qe(t){return x.delete(E,t)}function Xe(t){return t._id?x.put(E,t):(t.imgUrl=`https://robohash.org/${t.name}`,x.post(E,t))}function Ze(){return{name:"",email:"",phone:"",imgUrl:""}}function tn(){return[$("Ochoa Hyde","ochoahyde@renovize.com","+1 (968) 593-3824"),$("Hallie Mclean","halliemclean@renovize.com","+1 (948) 464-2888"),$("Parsons Norris","parsonsnorris@renovize.com","+1 (958) 502-3495"),$("Rachel Lowe","rachellowe@renovize.com","+1 (911) 475-2312"),$("Dominique Soto","dominiquesoto@renovize.com","+1 (807) 551-3258"),$("Shana Pope","shanapope@renovize.com","+1 (970) 527-3082"),$("Faulkner Flores","faulknerflores@renovize.com","+1 (952) 501-2678")]}function $(t,e,n){return{_id:w.getRandomId,name:t,email:e,phone:n,imgUrl:`https://robohash.org/${t}`}}const en={props:{contact:Object},data(){return{amount:null}},methods:{transfer(){this.$emit("transfer-coins",this.amount)}}},nn={class:"transfer-fund flex column"},on=c("button",null,"Transfer",-1);function sn(t,e,n,r,o,s){return i(),l("section",nn,[c("h3",null,"Transfer coins to "+f(n.contact.name),1),c("form",{onSubmit:e[1]||(e[1]=P((...a)=>s.transfer&&s.transfer(...a),["prevent"])),class:"flex"},[k(c("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.amount=a),type:"number"},null,512),[[S,o.amount,void 0,{number:!0}]]),on],32)])}var rn=h(en,[["render",sn]]);const an={data(){return{contact:null}},components:{TransferFund:rn,MoveList:J},async created(){const{id:t}=this.$route.params;this.contact=await L.get(t)},methods:{async transferCoins(t){try{await this.$store.dispatch({type:"addMove",contact:this.contact,amount:t})}catch(e){console.log(e)}}},computed:{user(){return this.$store.getters.user},getMoves(){return this.user.moves.filter(t=>t.to===this.contact.name)},getTitle(){return this.getMoves.length?"Your moves:":""}}},cn={key:0,class:"contact-details flex column justify-center align-center"},ln={class:"contact-actions flex"},un=v("Back"),dn=v("Edit"),mn={class:"contact-img"},hn=["src"];function pn(t,e,n,r,o,s){const a=m("RouterLink"),u=m("TransferFund"),p=m("MoveList");return o.contact?(i(),l("section",cn,[c("div",ln,[d(a,{to:"/contact",class:"clean-link"},{default:g(()=>[un]),_:1}),d(a,{to:`/contact/edit/${o.contact._id}`,class:"clean-link"},{default:g(()=>[dn]),_:1},8,["to"])]),c("div",mn,[c("img",{src:o.contact.imgUrl},null,8,hn)]),c("p",null,f(o.contact.name),1),c("p",null,f(o.contact.phone),1),c("p",null,f(o.contact.email),1),d(u,{contact:o.contact,onTransferCoins:s.transferCoins},null,8,["contact","onTransferCoins"]),d(p,{title:s.getTitle,moves:s.getMoves,fromHomeView:!1},null,8,["title","moves"])])):_("",!0)}var fn=h(an,[["render",pn]]);const _n={data(){return{contactToEdit:null}},async created(){const{id:t}=this.$route.params;t?this.contactToEdit=await L.get(t):this.contactToEdit=L.getEmptyContact()},methods:{async save(){await this.$store.dispatch({type:"saveContact",contact:this.contactToEdit}),this.$router.push("/contact")}},computed:{pageTitle(){const{id:t}=this.$route.params;return t?"Edit contact":"Add contact"}}},gn={class:"contact-edit"},vn=c("button",null,"Save",-1),yn=v("Cancel");function wn(t,e,n,r,o,s){const a=m("RouterLink");return i(),l("section",gn,[c("h2",null,f(s.pageTitle),1),o.contactToEdit?(i(),l("form",{key:0,onSubmit:e[3]||(e[3]=P((...u)=>s.save&&s.save(...u),["prevent"])),class:"flex column align-center"},[k(c("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>o.contactToEdit.name=u),type:"text",placeholder:"Name"},null,512),[[S,o.contactToEdit.name]]),k(c("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>o.contactToEdit.email=u),type:"text",placeholder:"Email"},null,512),[[S,o.contactToEdit.email]]),k(c("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>o.contactToEdit.phone=u),type:"text",placeholder:"+1 (111) 111-1111"},null,512),[[S,o.contactToEdit.phone]]),vn,d(a,{to:"/contact"},{default:g(()=>[yn]),_:1})],32)):_("",!0)])}var $n=h(_n,[["render",wn]]),Cn="/mister-bitcoin/assets/loader.189593b3.gif";const kn={},Sn={class:"loader main-layout"},bn=c("img",{src:Cn,alt:"bitcoin"},null,-1),Ln=[bn];function xn(t,e,n,r,o,s){return i(),l("section",Sn,Ln)}var Tn=h(kn,[["render",xn]]);const En={data(){return{tradeVolume:null,marketPrices:null,avgBlockSize:null,isLoading:!0}},async created(){this.marketPrices=await b.getMarketPrice(),this.tradeVolume=await b.getConfirmedTransaction(),this.avgBlockSize=await b.getAvgBlockSize(),this.isLoading=!1},components:{Chart:K,Loader:Tn}},Un={class:"statistic-page main-layout"};function Mn(t,e,n,r,o,s){const a=m("Chart"),u=m("Loader");return i(),l(V,null,[c("section",Un,[o.marketPrices?(i(),y(a,{key:0,chartData:o.marketPrices,chartTitle:"Bitcoin market price",lineColor:"orange"},null,8,["chartData"])):_("",!0),o.tradeVolume?(i(),y(a,{key:1,chartData:o.tradeVolume,chartTitle:"Bitcoin trade volume",lineColor:"rgb(255, 136, 0)"},null,8,["chartData"])):_("",!0),o.avgBlockSize?(i(),y(a,{key:2,chartData:o.avgBlockSize,chartTitle:"Average Block Size",lineColor:"orange"},null,8,["chartData"])):_("",!0)]),o.isLoading?(i(),y(u,{key:0})):_("",!0)],64)}var Rn=h(En,[["render",Mn]]);const Bn=lt({history:ut("/mister-bitcoin/"),routes:[{path:"/",name:"Home",component:ge},{path:"/signup",name:"Signup",component:Y},{path:"/contact",name:"ContactApp",component:Fe},{path:"/contact/:id",name:"ContactDetails",component:fn},{path:"/contact/edit/:id?",name:"ContactEdit",component:$n},{path:"/statistic",name:"StatisticView",component:Rn}]});var Dn={state:{contacts:null},getters:{contacts(t){return t.contacts}},mutations:{setContacts(t,{contacts:e}){t.contacts=e},removeContact(t,{id:e}){t.contacts=t.contacts.filter(n=>n._id!==e)},saveContact(t,{contact:e}){const n=t.contacts.findIndex(r=>r._id===e._id);n!==-1?t.contacts.splice(n,1,e):t.contacts.push(e)}},actions:{async loadContacts({commit:t}){const e=await L.query();t({type:"setContacts",contacts:e})},async removeContact({commit:t},{id:e}){await L.remove(e),t({type:"removeContact",id:e})},async saveContact({commit:t},{contact:e}){const n=await L.save(e);t({type:"saveContact",contact:n})}}},Pn={state:{user:null},getters:{user(t){return t.user}},mutations:{setUser(t,{user:e}){t.user=e}},actions:{async loadUser({commit:t}){const e=await M.getLoggedinUser();e&&t({type:"setUser",user:e})},async saveUser({commit:t},{user:e}){const n=await M.signup(e);t({type:"setUser",user:n})},async addMove({commit:t},{contact:e,amount:n}){const r=await M.addMove(e,n);t({type:"setUser",user:r})}}};const Vn=dt({strict:!0,modules:{contactModule:Dn,userModule:Pn}});const B=mt(Mt);B.use(Bn);B.use(Vn);B.use(ht);B.mount("#app");
